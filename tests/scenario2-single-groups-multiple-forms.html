<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scenario 2: Single Groups Across Multiple Forms - Test</title>
    <style>
        body {
  color: #fff;
  font-family: Open Sans, sans-serif;
  font-size: 14px;
  line-height: 20px;
}

h1 {
  margin-top: 20px;
  margin-bottom: 10px;
  font-size: 38px;
  font-weight: bold;
  line-height: 44px;
}

h2 {
  margin-top: 30px;
  margin-bottom: 15px;
  font-size: 24px;
  font-weight: bold;
  line-height: 30px;
  color: #f04a3f;
}

a {
  color: #fff;
  text-decoration: none;
}

.page_wrapper {
  background-color: #0e0e0e;
}

.main_wrapper {
  flex-flow: column;
  justify-content: flex-start;
  align-items: center;
  display: flex;
}

.section_form {
  grid-column-gap: 1.5rem;
  grid-row-gap: 1.5rem;
  flex-flow: column;
  justify-content: flex-start;
  align-items: flex-start;
  width: 60rem;
  min-height: 100vh;
  padding: 2.5rem 1rem;
  display: flex;
}

.input_group {
  grid-column-gap: 1rem;
  grid-row-gap: 1rem;
  border-bottom: 1px solid #333;
  justify-content: flex-start;
  align-items: center;
  width: 100%;
  padding-top: 1rem;
  padding-bottom: 1rem;
  display: flex;
  transition: all 0.3s ease;
}

.input_text {
  background-color: #0000;
  border: 1px solid #494949;
  border-radius: .5rem;
  height: 3rem;
  margin-bottom: 0;
}

.input {
  grid-column-gap: .5rem;
  grid-row-gap: .5rem;
  flex-flow: column;
  width: 100%;
  display: flex;
}

.form-block {
  background-color: #202020;
  border-radius: 1rem;
  width: 100%;
  margin-bottom: 2rem;
  padding: 1rem;
}

.input_label {
  font-size: .75rem;
}

.form {
  grid-column-gap: 1rem;
  grid-row-gap: 1rem;
  flex-flow: column;
  justify-content: flex-start;
  align-items: flex-start;
  display: flex;
}

.buttons_group {
  grid-column-gap: .5rem;
  grid-row-gap: .5rem;
  justify-content: flex-start;
  align-items: center;
  display: flex;
}

.icon_wrapper {
  aspect-ratio: 1;
  flex: none;
  justify-content: center;
  align-items: center;
  width: 1.25rem;
  height: 1.25rem;
  display: flex;
}

.add-btn {
  grid-column-gap: .5rem;
  grid-row-gap: .5rem;
  background-color: #3f3f3f;
  border-radius: 3rem;
  justify-content: flex-start;
  align-items: center;
  padding: .5rem 1rem .5rem .5rem;
  display: flex;
  transition: all 0.2s ease;
}

.add-btn:hover:not(.is-disabled) {
  background-color: #5f5f5f;
}

.remove-btn {
  grid-column-gap: .5rem;
  grid-row-gap: .5rem;
  background-color: #b10000;
  border-radius: 3rem;
  justify-content: flex-start;
  align-items: center;
  padding: .5rem 1rem .5rem .5rem;
  display: flex;
  transition: all 0.2s ease;
}

.remove-btn:hover:not(.is-disabled) {
  background-color: #d10000;
}

.is-disabled {
  background-color: #6c757d !important;
  opacity: 0.5;
  cursor: not-allowed;
}

.submit-button {
  background-color: #f04a3f;
  border-radius: 3rem;
  height: 3rem;
  font-size: 1rem;
  font-weight: 700;
}

.form-separator {
  width: 100%;
  height: 4px;
  background: linear-gradient(90deg, #f04a3f, #ff6b5b);
  margin: 3rem 0;
  border-radius: 2px;
}

@media screen and (max-width: 991px) {
  .section_form {
    width: 100%;
  }
}

@media screen and (max-width: 767px) {
  .input_group {
    grid-column-gap: 1rem;
    grid-row-gap: 1rem;
    flex-flow: column;
    grid-template-rows: auto auto;
    grid-template-columns: 1fr 1fr;
    grid-auto-columns: 1fr;
    display: grid;
  }
}

    </style>
</head>
<body>
  <div class="page_wrapper">
    <div class="main_wrapper">
      <div class="section_form">
        <h1><span class="text-span">Scenario 2:</span> Single Groups Across Multiple Forms</h1>
        <div>This test demonstrates the same field type (Contact Information) across different forms (Registration & Profile).</div>
        
        <!-- Registration Form -->
        <h2>Registration Form</h2>
        <div class="form-block w-form">
          <form id="registration-form" name="registration-form" data-name="registration-form" method="get" data-form-container="" class="form">
            <div data-field-group="" class="input_group">
              <div class="input">
                <div class="input_label">Contact Type</div>
                <input class="input_text w-input" maxlength="256" name="contact-type" data-name="contact-type" placeholder="Email" type="text" id="reg-contact-type" required="">
              </div>
              <div class="input">
                <div class="input_label">Contact Value</div>
                <input class="input_text w-input" maxlength="256" name="contact-value" data-name="contact-value" placeholder="john@example.com" type="text" id="reg-contact-value" required="">
              </div>
              <div class="input">
                <div class="input_label">Primary Contact</div>
                <select class="input_text w-input" name="is-primary" data-name="is-primary" id="reg-is-primary">
                  <option value="yes">Yes</option>
                  <option value="no">No</option>
                </select>
              </div>
            </div>
            <div class="buttons_group">
              <a data-add-btn="" href="#" class="add-btn w-inline-block">
                <div class="icon_wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="100%" viewbox="0 0 24 24" fill="none">
                    <path d="M12 22.75C6.07 22.75 1.25 17.93 1.25 12C1.25 6.07 6.07 1.25 12 1.25C17.93 1.25 22.75 6.07 22.75 12C22.75 17.93 17.93 22.75 12 22.75ZM12 2.75C6.9 2.75 2.75 6.9 2.75 12C2.75 17.1 6.9 21.25 12 21.25C17.1 21.25 21.25 17.1 21.25 12C21.25 6.9 17.1 2.75 12 2.75Z" fill="currentColor"></path>
                    <path d="M16 12.75H8C7.59 12.75 7.25 12.41 7.25 12C7.25 11.59 7.59 11.25 8 11.25H16C16.41 11.25 16.75 11.59 16.75 12C16.75 12.41 16.41 12.75 16 12.75Z" fill="currentColor"></path>
                    <path d="M12 16.75C11.59 16.75 11.25 16.41 11.25 16V8C11.25 7.59 11.59 7.25 12 7.25C12.41 7.25 12.75 7.59 12.75 8V16C12.75 16.41 12.41 16.75 12 16.75Z" fill="currentColor"></path>
                  </svg></div>
                <div>Add Contact</div>
              </a>
              <a data-remove-btn="" href="#" class="remove-btn w-inline-block">
                <div class="icon_wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="100%" viewbox="0 0 24 24" fill="none">
                    <path d="M20.9999 6.72998C20.9799 6.72998 20.9499 6.72998 20.9199 6.72998C15.6299 6.19998 10.3499 5.99998 5.11992 6.52998L3.07992 6.72998C2.65992 6.76998 2.28992 6.46998 2.24992 6.04998C2.20992 5.62998 2.50992 5.26998 2.91992 5.22998L4.95992 5.02998C10.2799 4.48998 15.6699 4.69998 21.0699 5.22998C21.4799 5.26998 21.7799 5.63998 21.7399 6.04998C21.7099 6.43998 21.3799 6.72998 20.9999 6.72998Z" fill="currentColor"></path>
                    <path d="M8.50001 5.72C8.46001 5.72 8.42001 5.72 8.37001 5.71C7.97001 5.64 7.69001 5.25 7.76001 4.85L7.98001 3.54C8.14001 2.58 8.36001 1.25 10.69 1.25H13.31C15.65 1.25 15.87 2.63 16.02 3.55L16.24 4.85C16.31 5.26 16.03 5.65 15.63 5.71C15.22 5.78 14.83 5.5 14.77 5.1L14.55 3.8C14.41 2.93 14.38 2.76 13.32 2.76H10.7C9.64001 2.76 9.62001 2.9 9.47001 3.79L9.24001 5.09C9.18001 5.46 8.86001 5.72 8.50001 5.72Z" fill="currentColor"></path>
                    <path d="M15.2099 22.75H8.7899C5.2999 22.75 5.1599 20.82 5.0499 19.26L4.3999 9.19001C4.3699 8.78001 4.6899 8.42001 5.0999 8.39001C5.5199 8.37001 5.8699 8.68001 5.8999 9.09001L6.5499 19.16C6.6599 20.68 6.6999 21.25 8.7899 21.25H15.2099C17.3099 21.25 17.3499 20.68 17.4499 19.16L18.0999 9.09001C18.1299 8.68001 18.4899 8.37001 18.8999 8.39001C19.3099 8.42001 19.6299 8.77001 19.5999 9.19001L18.9499 19.26C18.8399 20.82 18.6999 22.75 15.2099 22.75Z" fill="currentColor"></path>
                    <path d="M13.6601 17.25H10.3301C9.92008 17.25 9.58008 16.91 9.58008 16.5C9.58008 16.09 9.92008 15.75 10.3301 15.75H13.6601C14.0701 15.75 14.4101 16.09 14.4101 16.5C14.4101 16.91 14.0701 17.25 13.6601 17.25Z" fill="currentColor"></path>
                    <path d="M14.5 13.25H9.5C9.09 13.25 8.75 12.91 8.75 12.5C8.75 12.09 9.09 11.75 9.5 11.75H14.5C14.91 11.75 15.25 12.09 15.25 12.5C15.25 12.91 14.91 13.25 14.5 13.25Z" fill="currentColor"></path>
                  </svg></div>
                <div>Remove Contact</div>
              </a>
            </div>
            <input type="submit" data-wait="Please wait..." class="submit-button w-button" value="Register">
          </form>

        </div>

        <div class="form-separator"></div>

        <!-- Profile Form -->
        <h2>Profile Form</h2>
        <div class="form-block w-form">
          <form id="profile-form" name="profile-form" data-name="profile-form" method="get" data-form-container="" class="form">
            <div data-field-group="" class="input_group">
              <div class="input">
                <div class="input_label">Contact Type</div>
                <input class="input_text w-input" maxlength="256" name="contact-type" data-name="contact-type" placeholder="Phone" type="text" id="profile-contact-type" required="">
              </div>
              <div class="input">
                <div class="input_label">Contact Value</div>
                <input class="input_text w-input" maxlength="256" name="contact-value" data-name="contact-value" placeholder="+1-555-0123" type="text" id="profile-contact-value" required="">
              </div>
              <div class="input">
                <div class="input_label">Primary Contact</div>
                <select class="input_text w-input" name="is-primary" data-name="is-primary" id="profile-is-primary">
                  <option value="yes">Yes</option>
                  <option value="no">No</option>
                </select>
              </div>
            </div>
            <div class="buttons_group">
              <a data-add-btn="" href="#" class="add-btn w-inline-block">
                <div class="icon_wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="100%" viewbox="0 0 24 24" fill="none">
                    <path d="M12 22.75C6.07 22.75 1.25 17.93 1.25 12C1.25 6.07 6.07 1.25 12 1.25C17.93 1.25 22.75 6.07 22.75 12C22.75 17.93 17.93 22.75 12 22.75ZM12 2.75C6.9 2.75 2.75 6.9 2.75 12C2.75 17.1 6.9 21.25 12 21.25C17.1 21.25 21.25 17.1 21.25 12C21.25 6.9 17.1 2.75 12 2.75Z" fill="currentColor"></path>
                    <path d="M16 12.75H8C7.59 12.75 7.25 12.41 7.25 12C7.25 11.59 7.59 11.25 8 11.25H16C16.41 11.25 16.75 11.59 16.75 12C16.75 12.41 16.41 12.75 16 12.75Z" fill="currentColor"></path>
                    <path d="M12 16.75C11.59 16.75 11.25 16.41 11.25 16V8C11.25 7.59 11.59 7.25 12 7.25C12.41 7.25 12.75 7.59 12.75 8V16C12.75 16.41 12.41 16.75 12 16.75Z" fill="currentColor"></path>
                  </svg></div>
                <div>Add Contact</div>
              </a>
              <a data-remove-btn="" href="#" class="remove-btn w-inline-block">
                <div class="icon_wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="100%" viewbox="0 0 24 24" fill="none">
                    <path d="M20.9999 6.72998C20.9799 6.72998 20.9499 6.72998 20.9199 6.72998C15.6299 6.19998 10.3499 5.99998 5.11992 6.52998L3.07992 6.72998C2.65992 6.76998 2.28992 6.46998 2.24992 6.04998C2.20992 5.62998 2.50992 5.26998 2.91992 5.22998L4.95992 5.02998C10.2799 4.48998 15.6699 4.69998 21.0699 5.22998C21.4799 5.26998 21.7799 5.63998 21.7399 6.04998C21.7099 6.43998 21.3799 6.72998 20.9999 6.72998Z" fill="currentColor"></path>
                    <path d="M8.50001 5.72C8.46001 5.72 8.42001 5.72 8.37001 5.71C7.97001 5.64 7.69001 5.25 7.76001 4.85L7.98001 3.54C8.14001 2.58 8.36001 1.25 10.69 1.25H13.31C15.65 1.25 15.87 2.63 16.02 3.55L16.24 4.85C16.31 5.26 16.03 5.65 15.63 5.71C15.22 5.78 14.83 5.5 14.77 5.1L14.55 3.8C14.41 2.93 14.38 2.76 13.32 2.76H10.7C9.64001 2.76 9.62001 2.9 9.47001 3.79L9.24001 5.09C9.18001 5.46 8.86001 5.72 8.50001 5.72Z" fill="currentColor"></path>
                    <path d="M15.2099 22.75H8.7899C5.2999 22.75 5.1599 20.82 5.0499 19.26L4.3999 9.19001C4.3699 8.78001 4.6899 8.42001 5.0999 8.39001C5.5199 8.37001 5.8699 8.68001 5.8999 9.09001L6.5499 19.16C6.6599 20.68 6.6999 21.25 8.7899 21.25H15.2099C17.3099 21.25 17.3499 20.68 17.4499 19.16L18.0999 9.09001C18.1299 8.68001 18.4899 8.37001 18.8999 8.39001C19.3099 8.42001 19.6299 8.77001 19.5999 9.19001L18.9499 19.26C18.8399 20.82 18.6999 22.75 15.2099 22.75Z" fill="currentColor"></path>
                    <path d="M13.6601 17.25H10.3301C9.92008 17.25 9.58008 16.91 9.58008 16.5C9.58008 16.09 9.92008 15.75 10.3301 15.75H13.6601C14.0701 15.75 14.4101 16.09 14.4101 16.5C14.4101 16.91 14.0701 17.25 13.6601 17.25Z" fill="currentColor"></path>
                    <path d="M14.5 13.25H9.5C9.09 13.25 8.75 12.91 8.75 12.5C8.75 12.09 9.09 11.75 9.5 11.75H14.5C14.91 11.75 15.25 12.09 15.25 12.5C15.25 12.91 14.91 13.25 14.5 13.25Z" fill="currentColor"></path>
                  </svg></div>
                <div>Remove Contact</div>
              </a>
            </div>
            <input type="submit" data-wait="Please wait..." class="submit-button w-button" value="Update Profile">
          </form>

        </div>
      </div>
    </div>
  </div>
  <script src="http://localhost:8000/src/dynamic-fields.js"></script>
  <script>
// Scenario 2: Single field groups across multiple forms
// This demonstrates the same field type (Contact Information) in different forms

// Registration Form Contact Fields
const registrationContacts = new DynamicFields({
    formId: 'registration-form',    // Target specific form by ID
    fieldPrefix: 'reg-contact',     // Prefix for registration contact fields
    maxFields: 3,                   // Maximum 3 contact entries for registration
    minFields: 1,                   // Always keep at least 1
    animationSpeed: 300,
    validateOnAdd: false,
    enableErrorLogging: true,
    enableDebugLogging: true,       // Enable for testing
    hideRemoveButtonWhenMinReached: true
});

// Profile Form Contact Fields
const profileContacts = new DynamicFields({
    formId: 'profile-form',         // Different form, same field type
    fieldPrefix: 'profile-contact', // Different prefix for profile contact fields
    maxFields: 5,                   // Maximum 5 contact entries for profile
    minFields: 1,                   // Always keep at least 1
    animationSpeed: 300,
    validateOnAdd: false,
    enableErrorLogging: true,
    enableDebugLogging: true,       // Enable for testing
    hideRemoveButtonWhenMinReached: true
});

// Event listeners for Registration Form
registrationContacts.on('initialized', function(data) {
    console.log('Registration contact fields initialized successfully', data);
});

registrationContacts.on('fieldAdded', function(data) {
    console.log('Added registration contact entry, total fields: ' + data.totalFields);
});

registrationContacts.on('fieldRemoved', function(data) {
    console.log('Removed registration contact entry, total fields: ' + data.totalFields);
});

registrationContacts.on('maxFieldsReached', function(data) {
    console.log('Maximum registration contact entries reached: ' + data.maxFields);
});

// Event listeners for Profile Form
profileContacts.on('initialized', function(data) {
    console.log('Profile contact fields initialized successfully', data);
});

profileContacts.on('fieldAdded', function(data) {
    console.log('Added profile contact entry, total fields: ' + data.totalFields);
});

profileContacts.on('fieldRemoved', function(data) {
    console.log('Removed profile contact entry, total fields: ' + data.totalFields);
});

profileContacts.on('maxFieldsReached', function(data) {
    console.log('Maximum profile contact entries reached: ' + data.maxFields);
});

console.log('Scenario 2 test loaded: Single field groups across multiple forms');
</script>
</body>
</html>